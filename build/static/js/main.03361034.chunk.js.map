{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","filter","filterChange","react_default","a","createElement","value","onChange","Notification","message","error","className","PersonForm","submit","nameChange","name","numberChange","number","Fragment","onSubmit","type","Persons","persons","remove","personList","map","person","key","onClick","id","url","services_persons","axios","get","then","response","data","newPerson","post","delUrl","concat","delete","put","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","notification","setNotification","_useState11","_useState12","notificationType","setType","useEffect","personService","initialList","notify","setTimeout","personsToShow","toLowerCase","includes","components_Notification","components_Filter","e","target","components_PersonForm","preventDefault","exists","forEach","window","confirm","find","p","changedPerson","objectSpread","returnedPerson","catch","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.03361034.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filter, filterChange }) => {\n  return (\n    <div>\n      <label>Filter shown with </label>\n      <input value={filter} onChange={filterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Notification = ({ message, error }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className={\"\" + (error ? \"error\" : \"notice\")}>{message}</div>;\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst PersonForm = ({ submit, nameChange, name, numberChange, number }) => {\n  return (\n    <>\n      <h3>Add a new</h3>\n      <form onSubmit={submit}>\n        <div>\n          <label>Name: </label>\n          <input value={name} onChange={nameChange} />\n        </div>\n        <div>\n          <label>Number: </label>\n          <input value={number} onChange={numberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ persons, remove }) => {\n  const personList = persons.map(person => (\n    <p key={person.name}>\n      {person.name} {person.number}{\" \"}\n      <button onClick={remove(person.id, person.name)}>Delete</button>\n    </p>\n  ));\n\n  return <>{personList}</>;\n};\n\nexport default Persons;\n","import axios from \"axios\";\nconst url = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(url);\n  return request.then((response) => {\n    return response.data;\n  });\n};\n\nconst create = (newPerson) => {\n  const request = axios.post(url, newPerson);\n  return request.then((response) => {\n    return response.data;\n  });\n};\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${url}/${id}`, newPerson);\n  return request.then((response) => {\n    return response.data;\n  });\n};\n\nconst remove = (id) => {\n  const delUrl = `${url}/${id}`;\n  const request = axios.delete(delUrl);\n  return request.then((response) => {\n    return response.data;\n  });\n};\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update,\n};\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n  const [notificationType, setType] = useState(false);\n\n  const effectHook = () => {\n    personService.getAll().then((initialList) => {\n      setPersons(initialList);\n    });\n  };\n\n  useEffect(effectHook, []);\n\n  const notify = (message, error) => {\n    setType(error);\n    setNotification(message);\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const onNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const onNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const onFilterChange = (e) => {\n    setFilter(e.target.value);\n  };\n\n  const submitPerson = (e) => {\n    e.preventDefault();\n    let exists = false;\n    persons.forEach((person) => {\n      if (newName === person.name) {\n        exists = true;\n      }\n    });\n\n    if (exists) {\n      const confirm = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n\n      if (confirm) {\n        const person = persons.find((p) => p.name === newName);\n        const changedPerson = { ...person, number: newNumber };\n        personService\n          .update(person.id, changedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== changedPerson.id ? person : returnedPerson\n              )\n            );\n            notify(`Changed ${person.name}'s number to ${newNumber}`, false);\n          })\n          .catch(() => {\n            notify(\n              `Information of ${person.name} has already been removed from the server`,\n              true\n            );\n          });\n      }\n    } else {\n      const person = {\n        name: newName,\n        number: newNumber,\n      };\n      personService\n        .create(person)\n        .then((newPerson) => {\n          setPersons(persons.concat(newPerson));\n          notify(`Added ${newName}`, false);\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch(() => {\n          notify(\n            `Information of ${person.name} has already been removed from the server`,\n            true\n          );\n        });\n    }\n  };\n\n  const removePerson = (id, name) => () => {\n    const confirm = window.confirm(`Delete ${name}?`);\n\n    if (confirm) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((p) => p.id !== id));\n          notify(`${name} succesfully removed.`, false);\n        })\n        .catch(() => {\n          notify(\n            `Information of ${name} has already been removed from the server`,\n            true\n          );\n        });\n    }\n  };\n\n  const personsToShow =\n    filter === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} error={notificationType} />\n      <Filter filter={filter} filterChange={onFilterChange} />\n      <PersonForm\n        submit={submitPerson}\n        nameChange={onNameChange}\n        numberChange={onNumberChange}\n        name={newName}\n        number={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} remove={removePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}